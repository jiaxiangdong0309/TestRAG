@layer utilities {
  /* 文本工具类 */
  .text-balance {
    text-align: justify;
    text-justify: inter-word;
  }

  .text-pretty {
    text-align: justify;
    text-justify: distribute;
  }

  /* 滚动条样式 */
  .scrollbar-thin {
    scrollbar-width: thin;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: #f1f1f1;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
  }

  /* 选择文本样式 */
  .selection-blue::selection {
    background-color: #3b82f6;
    color: white;
  }

  .selection-green::selection {
    background-color: #10b981;
    color: white;
  }

  /* 打印样式 */
  @media print {
    .print-hidden {
      display: none !important;
    }

    .print-break-before {
      page-break-before: always;
    }

    .print-break-after {
      page-break-after: always;
    }
  }

  /* 深色模式支持 */
  @media (prefers-color-scheme: dark) {
    .dark-auto {
      @apply dark:bg-gray-900 dark:text-white;
    }
  }

  /* 高对比度模式 */
  @media (prefers-contrast: high) {
    .high-contrast {
      @apply border-2 border-black;
    }
  }

  /* 减少动画模式 */
  @media (prefers-reduced-motion: reduce) {
    .motion-safe {
      animation: none !important;
      transition: none !important;
    }
  }

  /* 自定义网格 */
  .grid-auto-fit {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }

  .grid-auto-fill {
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  }

  /* 自定义容器 */
  .container-sm {
    @apply max-w-3xl mx-auto px-4;
  }

  .container-md {
    @apply max-w-4xl mx-auto px-4;
  }

  .container-lg {
    @apply max-w-6xl mx-auto px-4;
  }

  .container-xl {
    @apply max-w-7xl mx-auto px-4;
  }

  /* 自定义间距 */
  .space-x-0\.5 > * + * {
    margin-left: 0.125rem;
  }

  .space-y-0\.5 > * + * {
    margin-top: 0.125rem;
  }

  /* 自定义阴影 */
  .shadow-soft {
    box-shadow:
      0 2px 15px -3px rgba(0, 0, 0, 0.07),
      0 10px 20px -2px rgba(0, 0, 0, 0.04);
  }

  .shadow-medium {
    box-shadow:
      0 4px 25px -5px rgba(0, 0, 0, 0.1),
      0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  .shadow-strong {
    box-shadow:
      0 10px 40px -10px rgba(0, 0, 0, 0.15),
      0 2px 10px -2px rgba(0, 0, 0, 0.05);
  }

  /* 自定义边框 */
  .border-dashed-custom {
    border-style: dashed;
    border-width: 2px;
  }

  .border-dotted-custom {
    border-style: dotted;
    border-width: 2px;
  }

  /* 自定义渐变 */
  .gradient-primary {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  }

  .gradient-secondary {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  }

  .gradient-success {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  }

  .gradient-warning {
    background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
  }

  /* 自定义动画 */
  @keyframes pulse-soft {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.8;
    }
  }

  .animate-pulse-soft {
    animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes bounce-soft {
    0%,
    100% {
      transform: translateY(-5%);
      animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
      transform: translateY(0);
      animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
  }

  .animate-bounce-soft {
    animation: bounce-soft 1s infinite;
  }

  /* 自定义变换 */
  .transform-gpu {
    transform: translateZ(0);
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  .perspective-1000 {
    perspective: 1000px;
  }

  /* 自定义过滤器 */
  .filter-blur-soft {
    filter: blur(1px);
  }

  .filter-brightness-110 {
    filter: brightness(1.1);
  }

  .filter-contrast-110 {
    filter: contrast(1.1);
  }

  /* 自定义混合模式 */
  .mix-blend-multiply {
    mix-blend-mode: multiply;
  }

  .mix-blend-screen {
    mix-blend-mode: screen;
  }

  .mix-blend-overlay {
    mix-blend-mode: overlay;
  }

  /* 自定义裁剪 */
  .clip-circle {
    clip-path: circle(50%);
  }

  .clip-polygon {
    clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);
  }

  /* 自定义背景 */
  .bg-pattern-dots {
    background-image: radial-gradient(circle, #000 1px, transparent 1px);
    background-size: 20px 20px;
  }

  .bg-pattern-grid {
    background-image:
      linear-gradient(rgba(0, 0, 0, 0.1) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0, 0, 0, 0.1) 1px, transparent 1px);
    background-size: 20px 20px;
  }

  /* 自定义文本 */
  .text-stroke {
    -webkit-text-stroke: 1px black;
    color: transparent;
  }

  .text-shadow-lg {
    text-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }

  /* 自定义布局 */
  .aspect-video {
    aspect-ratio: 16 / 9;
  }

  .aspect-square {
    aspect-ratio: 1 / 1;
  }

  .aspect-photo {
    aspect-ratio: 4 / 3;
  }

  /* 自定义交互 */
  .hover-lift {
    transition: transform 0.2s ease-in-out;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
  }

  .hover-glow {
    transition: box-shadow 0.2s ease-in-out;
  }

  .hover-glow:hover {
    box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
  }

  /* 自定义状态 */
  .group:hover .group-hover\:scale-105 {
    transform: scale(1.05);
  }

  .group:focus .group-focus\:ring-2 {
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
  }

  /* 自定义响应式 */
  .responsive-text {
    font-size: clamp(1rem, 2.5vw, 2rem);
  }

  .responsive-padding {
    padding: clamp(1rem, 5vw, 3rem);
  }

  /* 自定义网格系统 */
  .grid-responsive {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(min(100%, 300px), 1fr));
    gap: 1rem;
  }

  /* 自定义弹性布局 */
  .flex-responsive {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .flex-responsive > * {
    flex: 1 1 300px;
  }
}
